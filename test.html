<!DOCTYPE html>

<html>

<title>Focus Research Project</title>

<style>
	
	body {text-align: center}
	.button {
		color: #8600E2;
		padding: 15px 32px;
		font-size: 20px
	}

</style>

<body>

<heading>
	
	<div id='body1'>
		<h1 style='font-size: 80px';>Welcome To The Focus Test!</h1>
		<h2>This test is part of a research project being conducted by a 
		<br>
		student of The Governor's School for Science and Technology.</h2>
		<button class='button' onclick='proceed()'><b>Proceed</b></button>
		<br>
		<br>
		<button onclick='ugly()'>Why is this color scheme so ugly?</button>
	</div>

	<div id='body2' style='display: none';>
		<h1 style='font-size: 50px';>Instructions</h1>
		<p>A fake word will appear at the top of your screen, & your job will be to keep track of how many times it appears in the following series of fake words.<br>
		After it is finished, type the amount of times you saw the word into the text box that will appear. Then, click the "Proceed" button. Good luck!<br>
		<br>
		If you happen to notice any bugs, please email me at brian.tafazoli@nhrec.org.</p>
		<button class='button' onclick='proceed2();listrandomizer()'><b>Proceed</b></button>
	</div>

	<div id='dummy_round_ins' style='display: none';>
		<h4>(This is just an example of what the tests will look like.)</h4>
		<h1>Your word:</h1>
		<h1 id='dummy_round_word' style='font-size: 60px';></h1>
		<button id='begintest_button' class='button' onclick='begintestFunction()'>Begin Test</button>
	</div>

	<div id='words' style='display: none';>
		<h1>SAMPLETEXT</h1>
	</div>

</heading>

</body>

<script>

	function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	var bcolor = ['White', 'Black', 'Gray', 'Aqua', 'Blue', 'Lime', 'Red'];

	function ugly() {
		alert("The backround color & text color are chosen by random variables, which has to do with the way the test works. Reloading the page will change the color scheme, but during the test, you might get the same one you have right now. No matter how absurd the combination is, it deserves to be tested on.")
	}
	

	var b = getRandomInt(0, 6);
	var t = getRandomInt(0, 6);
	if(b == t){
		b+=1
	}
	document.body.style['background-color'] = bcolor[b];
	document.body.style['color'] = bcolor[t];
	
	var bodyremove1 = document.getElementById('body1')
	var bodyadd1 = document.getElementById('body2')
	window.proceed = function(){
		bodyremove1.style['display'] = 'none'
		bodyadd1.style['display'] = 'block'
	}

	var longlistowords = ['volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'labore', 'tempor', 'blandit', 'congue', 'volutpat' , 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'blandit', 'egestas', 'quisque', 'turpis', 'dictum' , 'blandit',  'egestas', 'turpis', 'dictum', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue']

	var testword = longlistowords[(getRandomInt(0,longlistowords.length))]

	var bodyremove2 = document.getElementById('body2')
	var bodyadd2 = document.getElementById('dummy_round_ins')
	window.proceed2 = function(){
		bodyremove2.style['display'] = 'none'
		bodyadd2.style['display'] = 'block'
		document.getElementById('dummy_round_word').innerHTML = testword;
	}

	function wordvaluefinder(array, value) {
    	return array.filter((v) => (v === value)).length;
	}
	var wordvalue = wordvaluefinder(longlistowords, testword);

	var begintest_button = document.getElementById('begintest_button');
	window.listrandomizer = function(){
		longlistowords.sort(() => Math.random() - 0.5);
		var n = 0;
		do{
			if(longlistowords[n]==longlistowords[n+1]){
				longlistowords.splice(n,1);
				wordvalue-=1;
			}
			n+=1;
		}
		while (n<longlistowords.length);
	}

const words = document.getElementById('words').innerHTML;
const wordsDIV = document.getElementById('words');

window.begintestFunction = function() {
  setInterval(begintestScript, 93);
}

var n = 0;
function begintestScript() {
    if (n == 0) {
      var rep = words.replace('SAMPLETEXT', longlistowords[0]);
      wordsDIV.style['display'] = 'block';
      document.getElementById('words').innerHTML = rep;
      n+=1;
    } else {
      const words = document.getElementById('words').innerHTML
      var rep = words.replace(longlistowords[n-1], longlistowords[n]);
      document.getElementById('words').innerHTML = rep;
      n+=1;
    }
  }
  	console.log(n);
	console.log(words);
	console.log(longlistowords);

</script>

</html>