<!DOCTYPE html>

<html>

	<title>Focus Research Project</title>

	<style>
		
		body {text-align: center}
		
		.button {
			color: #8600E2;
			padding: 15px 32px;
			font-size: 20px
		}
		
		input[type=text]{
			width: 1%;
		}

	</style>

	<body>

		<div id = 'testRounds';>
			<h1>Your word:</h1>
			<h1 id = 'userWord' style = 'font-size: 60px';></h1>
			<button id = 'begintest_button' class = 'button' onclick = 'beginTestFunction()'>Begin</button>
		</div>

		<div id = 'controlGroupOption'>
			<br>
			<button id = 'controlGroupOption_button' onclick = 'controlGroupFunction()'>Control Group</button>
		</div>

		<div id = 'words' style = 'display: none';>
			<h1 style = 'font-size: 45px'>SAMPLETEXT</h1>
		</div>

		<div id = 'proceedTestDummy' style = 'display: none';>
			<h3>Background Color:</h3>
			<h3 id = 'backgroundColorResults'>SAMPLETEXT</h3>
			<h3>Text Color:</h3>
			<h3 id = 'textColorResults'>SAMPLETEXT</h3>
			<h3>Actual word value:</h3>
			<button id = 'proceedTest_button' class = 'button' onclick = 'wordValueDisplayFunction()'>Show word value</button>
		</div>

		<div id = 'wordValueDisplay' style = 'display: none';>
			<h3 id = 'wordValueResults'>SAMPLETEXT</h3>
		</div>

	</body>

	<script>

		function getRandomInt(min, max) {
	    min = Math.ceil(min);
	    max = Math.floor(max);
	    return Math.floor(Math.random() * (max - min + 1)) + min;
		}

		var bcolor = ['White', 'Black', 'Aqua', 'Blue', 'Lime', 'Red'];
		
		var b = getRandomInt(0, 5);
		var t = getRandomInt(0, 5);
		if(b == t){
			b+=1
		}
		document.body.style['background-color'] = bcolor[b];
		document.body.style['color'] = bcolor[t];
		
		window.controlGroupFunction = function(){
			document.body.style['background-color'] = bcolor[0];
			document.body.style['color'] = bcolor[1];
			document.getElementById('controlGroupOption').style['display'] = 'none';
		}

		var bodyremove1 = document.getElementById('body1');
		var bodyadd1 = document.getElementById('body2');

		var longlistowords = ['volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'labore', 'tempor', 'blandit', 'congue', 'volutpat' , 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'blandit', 'egestas', 'quisque', 'turpis', 'dictum' , 'blandit',  'egestas', 'turpis', 'dictum', 'volutpat', 'ultricies', 'viverra', 'egestas', 'quisque', 'turpis', 'dictum', 'labore', 'tempor', 'blandit', 'congue'];

		var testword = longlistowords[(getRandomInt(0,longlistowords.length-1))];

		var bodyremove2 = document.getElementById('body2');
		var bodyadd2 = document.getElementById('testRounds');
		document.getElementById('userWord').innerHTML = testword;

		var begintest_button = document.getElementById('begintest_button');
		
		function listrandomizer(){
			longlistowords.sort(() => Math.random() - 0.5);
			var n = 0;
			do{
				if(longlistowords[n]==longlistowords[n+1]){
					longlistowords.splice(n,1);
					wordValue-=1;
					n+=1;
				}
				n+=1;
			}
			while (n<longlistowords.length);
		}
		listrandomizer();


		function wordValuefinder(array, value) {
    		return array.filter((v) => (v === value)).length;
    	}
		var wordValue = wordValuefinder(longlistowords, testword);

		var begintest_button = document.getElementById('begintest_button');

		const words = document.getElementById('words').innerHTML;
		const wordsDIV = document.getElementById('words');
		var begintest_button = document.getElementById('begintest_button');
		var inputBox = document.getElementById('inputBox');
		var testDisclaimer = document.getElementById('testDisclaimer');
		
		var proceedTestDummy = document.getElementById('proceedTestDummy');
		const backgroundColorResults = document.getElementById('backgroundColorResults');
		const textColorResults = document.getElementById('textColorResults');
		const wordValueResults = document.getElementById('wordValueResults');
		var repColor = words.replace('SAMPLETEXT', bcolor[b]);
		var repText = words.replace('SAMPLETEXT', bcolor[t]);
		var repWordValue = words.replace('SAMPLETEXT', wordValue);
		document.getElementById('backgroundColorResults').innerHTML = repColor;
		document.getElementById('textColorResults').innerHTML = repText;
		document.getElementById('wordValueResults').innerHTML = repWordValue;
		var proceedTest = document.getElementById('proceedTest');

		var begintest_buttonActual = document.getElementById('begintest_buttonActual');

		window.beginTestFunction = function() {
			begintest_button.style['display'] = 'none';
			n = 0;
			document.getElementById('controlGroupOption').style['display'] = 'none';
			setInterval(begintestScriptDummy, 95);	
		}

		var n = 0;
		function begintestScriptDummy() {
		    if (n == 0) {
		     	var repWords = words.replace('SAMPLETEXT', longlistowords[0]);
		     	wordsDIV.style['display'] = 'block';
		     	document.getElementById('words').innerHTML = repWords;
		     	n+=1;
		    } else if (n < (longlistowords.length)) {
		     	const words = document.getElementById('words').innerHTML
		     	var repWords = words.replace(longlistowords[n-1], longlistowords[n]);
		     	document.getElementById('words').innerHTML = repWords;
		    	n+=1;
		    } else if (n == longlistowords.length) {
		    	wordsDIV.style['display'] = 'none';
		    	proceedTestDummy.style['display'] = 'block';
		    	n+=1;
		    } else {
		     	const words = document.getElementById('words').innerHTML
		     	var repWords = words.replace(longlistowords[n-1], 'SAMPLETEXT');
		     	document.getElementById('words').innerHTML = repWords;		    	
		    	return false;
		    }
		}

		window.wordValueDisplayFunction = function(){
			document.getElementById('proceedTest_button').style['display'] = 'none';
			document.getElementById('wordValueDisplay').style['display'] = 'block';
		}


	

	</script>

</html>